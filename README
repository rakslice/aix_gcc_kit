
A kit for cross building old gcc versions for aix ps/2 1.3 using red hat linux 5.0.5 (which has gcc 2.7.2.3)

Steps

1. Get the required exports (headers, libs) from the aix machine by tarring
them to the floppy drive.
- /usr/include
- /lib
- /usr/lib
Archives with full paths are what we want and leading '/'s are fine.
dd in the disks to disk images aixinclude.dsk,
aixbaselib.dsk, and aixlib{1,2}.dsk respectively. Put them in the current directory.

2. Put the gcc source on the aix machine and build libgcc1.a.
Put the libgcc1.a into the current directory. (todo: figure out the requirements and steps for this)

3. Mount the rh 5.0.5 cdrom in /mnt/cdrom (or edit the cdrom= variable
at the top of create_chroot.sh if you have the contents at a different path).

4. Edit go.sh to uncomment the GCC_VER line for the version you want, and then run ./go.sh

 This will prepare the chroots and do the builds.

 If everything is successful it will put the resulting build-gcc directory into the disk images
  crossnative{1,2,3}.dsk

5. To install, extract the disk images on the aix system to get the build-gcc directory and in it run
    make install


Scripts and pieces

./go.sh [options] - do the build
    Options (max 1)
    -c  - pop a shell in the rh5 cdrom chroot used to prepare the rh5 install 
    -f {filename} - find_in_cdrom.sh run: try to find an rpm on the rh5 cdrom with a file matching a given pattern
    -d  - pop a shell in the rh5 install chroot before the build
./cleanup_chroots - cleanup any mounted chroot directories, for when a run stopped unsafely
./reset.sh - clean up all the extracted/intermediate files including the chroots
